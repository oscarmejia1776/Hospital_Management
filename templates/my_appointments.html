{% extends "layout.html" %}

{% block content %}
<h2>My Appointments</h2>

{% if appointments %}
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Time</th>
                <th>Doctor</th>
                <th>Specialty</th>
                <th>Notes</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for appt in appointments %}
            <tr>
                <td>{{ appt.date }}</td>
                <td>{{ appt.time }}</td>
                <td>Dr. {{ appt.doctor_name }}</td>
                <td>{{ appt.specialty }}</td>
                <td>{{ appt.notes or '-' }}</td>
                <td>
                    <div style="display: flex; gap: 10px;">
                        <a href="{{ url_for('edit_appointment', id=appt.id) }}" style="color: var(--primary-color); text-decoration: none; font-weight: bold;">Edit</a>
                        <form action="{{ url_for('delete_appointment', id=appt.id) }}" method="POST" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this appointment?');">
                            <button type="submit" style="background: none; border: none; color: #dc3545; font-weight: bold; cursor: pointer; padding: 0; font-size: 1rem;">Delete</button>
                        </form>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p style="text-align: center; margin-top: 20px;">You have no upcoming appointments.</p>
    <div style="text-align: center; margin-top: 20px;">
        <a href="{{ url_for('book_appointment') }}" class="btn" style="width: auto; display: inline-block;">Book One Now</a>
    </div>
{% endif %}
{% endblock %}

